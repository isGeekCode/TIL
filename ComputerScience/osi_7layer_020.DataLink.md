# OSI 7 Layer - 2. Data Link Layer(데이터 링크 계층)

같은 네트워크에 있는 여러 대의 컴퓨터들이 데이터를 주고 받기 위해서 필요한 모듈

1계층에 속하는 기술만으로는 여러대의 컴퓨터가 통신하도록 만들 수 없다.

여러대의 컴퓨터는 스위치라는 장비를 통해 연결 되어있다.

한 컴퓨터로 여러대의 컴퓨터가 거의 동시에 데이터를 보낸다면 수신하는 컴퓨터에서는 이 데이터를 구분할 수 가 없다.

<img width="453" alt="스크린샷 2023-04-14 오후 2 46 58" src="https://user-images.githubusercontent.com/76529148/231952205-5e173cc6-7963-4bf3-8368-aebd4a7f478d.png">


## 📌 Framing
이걸 잘 구분하기 위해 송신하는 부분에서는 데이터의 앞뒤에 특별한 비트열을 붙인다.

예를 들어, 전송자가 데이터를 보낼때, 앞에는 1111과 뒤에는 0000을 붙인다고 했을때, 알맞게 구별을 할 수가 있다.

<img width="483" alt="스크린샷 2023-04-14 오후 2 50 00" src="https://user-images.githubusercontent.com/76529148/231952650-a77ff970-1264-43f3-9a12-e58429c08253.png">

그러면 한번에 여러 군데에서 많은 정보가 들어와도 구별이 가능해진다. 
이렇게 보내려는 정보를 비트열로 감싸는 것을 Framing이라고 한다.


## 📌 세부동작
### 보내는 쪽
- 2계층 Encoding : 데이터를 Framing.
    - 2계층 Encoder의 Input에 데이터를 넣어준다.
    - 2계층 Encoder의 Output에서 Framing된 데이터를 내보낸다.
- 1계층 Encoding : Framing된 데이터를 아날로그 신호로 전환.
    - 1계층 Encoder의 Input에 데이터를 넣어준다.
    - 1계층 Encoder의 Output에서 0과 1의 아날로그 신호를 내보낸다.
- 아날로그 신호로 발신

### 받는 쪽
- 아날로그 신호를 수신
- 1계층 Decoding : 아날로그 신호를 데이터로 전환.
    - 1계층 Decoder의 Input에 아날로그 신호를 넣어준다.
    - 1계층 Decoder의 Output에서 데이터를 내보낸다.
- 2계층 Encoding : Framing 되어있는 데이터를 순수한 데이터로 변환.
    - 2계층 Decoder의 Input에 Framing된 데이터를 넣어준다.
    - 2계층 Decoder의 Output에서 원래의 데이터로 복원한다.

<img width="800" alt="스크린샷 2023-04-14 오후 3 26 58" src="https://user-images.githubusercontent.com/76529148/231960900-f958080f-95a3-402f-896c-45628432f57c.png">


## 📌 조금더 자세한 설명

2계층은 크게 두가지의 업무를 하고 있다.
1. MAC 주소관리
2. 논리적인 주소관리


### MAC(Media Access Control) 주소관리

2계층에서는 각 네트원크 인터페이스에 할당된 MAC주소를 이용하여 데이터를 전송한다. MAC주소는 각 네트워크 인터페이스 마다 고유하게 할당되며, 이를 통해서 데이터가 올바른 네트워크로 전송 되게 한다.

스위치나 브릿지와 같은 방비는 MAC 주소를 이용하여 패킷을 전송하고,

같은 네트워크에 있는 호스트 들은 MAC 주소를 기반으로 서로 통신할 수 있다.


### 논리적인 주소관리
2계층에서는 각 호스트가 사용하는 논리적인 주소를 관리한다. 이를 통해서 네트워크상에서 호스트들이 서로를 식별하고 통신할 수 있다. 

- 대표적인 논리적 주소
    - Ethernet 프로토콜에서 사용하는 48비트 MAC주소
    - ARP(Adress Resolution Protocol)프로토콜에서 사용하는 IP 주소 등

2계층에서는 데이터를 프레임(Frame)이라는 단위로 분할하여 전송한다.

이 프레이멩는 목적지와 출발지 MAC주소, 오류 검출을 위한 CRC(Cyclic Reduddancy Check)필드 등의 정보를 포함하고 있다. 프레임은 브로드캐스트, 멀티캐스트, 유니캐스트 등의 방식으로 전송될 수가 있다.

2계층에서는 오류 검출과 복구를 위한 기능도 제공한다.

예를 들어 프레임 전송 중에 오류가 발생하는 경우, 수신 측에서는 ㄴ에러 검출을 위해 CRC필드를 사용하여 프레임의 오류 여부를 확인하고, 오류가 발견되면 해당 프레임으 ㄹ폐기하고 재전송을 요청할 수 있다.


### 정리

2계층은 MAC주소를 관리하고, Framing처리된 Frame을 전송하고, 그 안에 있는 정보로 데이터 전송중 발생하는 오류를 확인하고 복구하는 기능을 제공하는 계층이다.

- MAC주소관리
- 데이터 Framing
- 데이터 전송중 오류체크 및 복구하는 기능


## 📌 참고링크
- [우아한테크코스 - 히히 : OSI 7 Layer](https://www.youtube.com/watch?v=1pfTxp25MA8)
- [우아한테크코스 모아보기](https://github.com/365kim/techotalk)


## 📌 History
- 230414 : 초안작성
