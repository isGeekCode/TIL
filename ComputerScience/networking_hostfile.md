# 네트워킹 - 호스트파일이란, 내부망 설정하기


호스트 파일은 컴퓨터가 인터넷 도메인 이름을 IP 주소로 변환할 때 사용하는 시스템 파일 중 하나이다.  

이 파일은 운영 체제가 도메인 이름 시스템(DNS) 조회를 수행하기 전에 먼저 확인하는 로컬 데이터베이스 역할을 한다.  

간단히 말해, 호스트 파일은 특정 도메인 이름에 대한 IP 주소 매핑을 수동으로 정의할 수 있는 텍스트 파일을 말한다.  


<br><br>

## 호스트파일을 사용하는 용도 

 호스트파일을 사용하는 용도는 아래와 같이 볼 수 있다.  
 
- IP 주소 매핑: 호스트 파일을 사용하여 도메인 이름(예: `www.example.com`)을 해당하는 IP 주소(예: `192.0.2.1`)에 직접 매핑할 수 있다. 이렇게 하면 해당 도메인 이름에 대한 요청이 DNS 조회를 거치지 않고 직접 매핑된 IP 주소로 이동한다.

- 네트워크 테스트와 개발: 개발자들은 종종 로컬 또는 개발 환경에서 작업할 때 호스트 파일을 수정하여 특정 도메인을 로컬호스트(`127.0.0.1`) 또는 개발 서버의 IP 주소로 리디렉션한다.  이를 통해 실제 배포 전에 애플리케이션을 테스트할 수 있다.

- 웹사이트 차단: 호스트 파일을 사용하여 원치 않는 또는 해로운 웹사이트에 대한 접근을 차단할 수 있다. 예를 들어, 특정 도메인을 0.0.0.0 또는 127.0.0.1로 리디렉션하면 해당 도메인에 대한 모든 요청이 차단되거나 로컬호스트로 리디렉션된다. .

- DNS 캐시 우회: 호스트 파일은 DNS 설정이나 캐시 문제로 인한 접속 문제를 해결하는 데 도움이 될 수 있다.  DNS 서버가 잘못된 정보를 제공하거나 접근이 불가능할 때, 호스트 파일에 올바른 IP 주소를 직접 지정함으로써 문제를 우회할 수 있다.

## 호스트파일의 위치

- Windows: C:\Windows\System32\drivers\etc\hosts
- macOS와 Linux: /private/etc/hosts


## 호스트파일 수정하기

### 편집내용 / 추가내용

편집기를 통해 호스트파일에 접근하게 될 때,
최초라면 아래와 같이 화면이 구현될 것이다.  

```
##
# Host Database
#
# localhost is used to configure the loopback interface
# when the system is booting.  Do not change this entry.
##
127.0.0.1       localhost
255.255.255.255 broadcasthost
::1             localhost
```

이 하단에 우회하려는 IP주소와 도메인이름을 아래 양식처럼 입력한다.  
```
<IP주소> <도메인이름>
1.23.456.78 geekcode.naver.com
```

그리고 마지막에는 기존 DNS캐시를 날려서 초기화 시켜야 적용이 된다.  

MAC의 경우 아래와 같이 입력한다.  
```
dscacheutil -flushcache
```


### vim 에디터로 편집하기


```
sudo vim /private/etc/hosts
```

vim 에서는 편집을 위해선 i를 눌러 insert모드로 진입해야한다.  
편집을 마치면 esc를 누르고
:wq 를 입력해 나오자.  

마지막으로 DNS캐시 날릴것

### Nano 에디터로 편집하기

웹에서 검색하면 블로그들이 죄다 nano를 사용하도록 공개되어있다.  
블로그 자가증식특징 때문인가보다.  

```
sudo nano /private/etc/hosts
```

- 저장 : ctrl + o
- 나가기 : ctrl + x

마지막으로  DNS캐시를 날린다.  

